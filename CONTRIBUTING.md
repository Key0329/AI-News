# è²¢ç»æŒ‡å—

æ„Ÿè¬æ‚¨å° AI News Assistant å°ˆæ¡ˆçš„èˆˆè¶£ï¼æœ¬æŒ‡å—å°‡å”åŠ©æ‚¨äº†è§£å¦‚ä½•è²¢ç»ç¨‹å¼ç¢¼ã€‚

## ç›®éŒ„

- [è¡Œç‚ºæº–å‰‡](#è¡Œç‚ºæº–å‰‡)
- [å¦‚ä½•è²¢ç»](#å¦‚ä½•è²¢ç»)
- [é–‹ç™¼ç’°å¢ƒè¨­å®š](#é–‹ç™¼ç’°å¢ƒè¨­å®š)
- [ç¨‹å¼ç¢¼é¢¨æ ¼](#ç¨‹å¼ç¢¼é¢¨æ ¼)
- [æäº¤è¨Šæ¯è¦ç¯„](#æäº¤è¨Šæ¯è¦ç¯„)
- [æ¸¬è©¦](#æ¸¬è©¦)
- [Pull Request æµç¨‹](#pull-request-æµç¨‹)

## è¡Œç‚ºæº–å‰‡

è«‹ä¿æŒå°Šé‡ã€å‹å–„çš„æ…‹åº¦èˆ‡å…¶ä»–è²¢ç»è€…äº’å‹•ã€‚æˆ‘å€‘è‡´åŠ›æ–¼ç‡Ÿé€ é–‹æ”¾ä¸”åŒ…å®¹çš„ç¤¾ç¾¤ç’°å¢ƒã€‚

## å¦‚ä½•è²¢ç»

### å›å ±å•é¡Œ

å¦‚æœæ‚¨ç™¼ç¾ bug æˆ–æœ‰åŠŸèƒ½å»ºè­°ï¼Œè«‹é€é [GitHub Issues](https://github.com/your-repo/AI-News/issues) å›å ±ã€‚

**Bug å›å ±ç¯„æœ¬**:

```markdown
**å•é¡Œæè¿°**
ç°¡çŸ­æè¿°é‡åˆ°çš„å•é¡Œ

**é‡ç¾æ­¥é©Ÿ**

1. åŸ·è¡Œ '...'
2. æª¢è¦– '...'
3. çœ‹åˆ°éŒ¯èª¤

**é æœŸè¡Œç‚º**
æè¿°é æœŸçš„æ­£ç¢ºè¡Œç‚º

**å¯¦éš›è¡Œç‚º**
æè¿°å¯¦éš›ç™¼ç”Ÿçš„æƒ…æ³

**ç’°å¢ƒè³‡è¨Š**

- OS: [å¦‚ macOS 14.1]
- Node.js: [å¦‚ v22.0.0]
- ç‰ˆæœ¬: [å¦‚ v0.1.0]

**éŒ¯èª¤æ—¥èªŒ**
```

è²¼ä¸Šç›¸é—œéŒ¯èª¤è¨Šæ¯æˆ–æ—¥èªŒ

```

```

**åŠŸèƒ½å»ºè­°ç¯„æœ¬**:

```markdown
**åŠŸèƒ½æè¿°**
æ¸…æ¥šæè¿°å»ºè­°çš„æ–°åŠŸèƒ½

**ä½¿ç”¨å ´æ™¯**
èªªæ˜æ­¤åŠŸèƒ½è§£æ±ºä»€éº¼å•é¡Œæˆ–æ”¹å–„ä»€éº¼é«”é©—

**æ›¿ä»£æ–¹æ¡ˆ**
æ˜¯å¦è€ƒæ…®éå…¶ä»–è§£æ±ºæ–¹æ¡ˆï¼Ÿ

**é¡å¤–è³‡è¨Š**
ä»»ä½•å…¶ä»–ç›¸é—œè³‡è¨Šæˆ–æˆªåœ–
```

### è²¢ç»ç¨‹å¼ç¢¼

1. **Fork å°ˆæ¡ˆ** åˆ°æ‚¨çš„ GitHub å¸³è™Ÿ
2. **å»ºç«‹åˆ†æ”¯** å¾ `main` é–‹æ–°åˆ†æ”¯
   ```bash
   git checkout -b feature/your-feature-name
   ```
3. **é€²è¡Œè®Šæ›´** ä¸¦éµå¾ªç¨‹å¼ç¢¼é¢¨æ ¼
4. **æ¸¬è©¦è®Šæ›´** ç¢ºä¿æ‰€æœ‰æ¸¬è©¦é€šé
5. **æäº¤è®Šæ›´** ä½¿ç”¨è¦ç¯„çš„æäº¤è¨Šæ¯
6. **Push åˆ° GitHub**
   ```bash
   git push origin feature/your-feature-name
   ```
7. **å»ºç«‹ Pull Request** ä¸¦å¡«å¯«æè¿°

## é–‹ç™¼ç’°å¢ƒè¨­å®š

### å‰ç½®éœ€æ±‚

- Node.js v22.x LTS
- npm v10+
- Git

### å®‰è£æ­¥é©Ÿ

```bash
# 1. Clone æ‚¨ fork çš„å°ˆæ¡ˆ
git clone https://github.com/YOUR_USERNAME/AI-News.git
cd AI-News

# 2. å®‰è£ä¾è³´
npm install

# 3. è¤‡è£½ç’°å¢ƒè®Šæ•¸ç¯„æœ¬
cp .env.example .env

# 4. ç·¨è¼¯ .env ä¸¦å¡«å…¥æ¸¬è©¦ç”¨ API é‡‘é‘°
# GEMINI_API_KEY=your_test_key
# GITHUB_TOKEN=your_test_token

# 5. è¤‡è£½ä¾†æºé…ç½®ç¯„æœ¬
cp config/sources.example.json config/sources.json

# 6. åŸ·è¡Œæ¸¬è©¦ç¢ºä¿ç’°å¢ƒæ­£å¸¸
npm test

# 7. æ‰‹å‹•åŸ·è¡Œæ¸¬è©¦
npm start -- --run-now
```

## ç¨‹å¼ç¢¼é¢¨æ ¼

æœ¬å°ˆæ¡ˆä½¿ç”¨ JavaScript ES Modulesï¼ˆESMï¼‰ï¼Œè«‹éµå¾ªä»¥ä¸‹è¦ç¯„ï¼š

### JavaScript é¢¨æ ¼

- **ç¸®æ’**: 2 ç©ºæ ¼ï¼ˆä¸ä½¿ç”¨ Tabï¼‰
- **å¼•è™Ÿ**: é›™å¼•è™Ÿ `"` å„ªå…ˆæ–¼å–®å¼•è™Ÿï¼ˆæ¨¡æ¿å­—ä¸²é™¤å¤–ï¼‰
- **åˆ†è™Ÿ**: å¿…é ˆä½¿ç”¨åˆ†è™Ÿçµå°¾
- **å‘½åè¦å‰‡**:
  - è®Šæ•¸/å‡½å¼: `camelCase`ï¼ˆå¦‚ `loadConfig`, `itemsCount`ï¼‰
  - é¡åˆ¥: `PascalCase`ï¼ˆå¦‚ `EmailPusher`, `NewsItem`ï¼‰
  - å¸¸æ•¸: `UPPER_SNAKE_CASE`ï¼ˆå¦‚ `MAX_RETRIES`, `API_TIMEOUT`ï¼‰
  - ç§æœ‰å±¬æ€§: å‰ç¶´ `_`ï¼ˆå¦‚ `_internalCache`ï¼‰
- **å‡½å¼é•·åº¦**: å»ºè­°å–®ä¸€å‡½å¼ä¸è¶…é 50 è¡Œï¼ˆè¤‡é›œé‚è¼¯å¯æ‹†åˆ†ï¼‰
- **è¨»è§£**:
  - ä½¿ç”¨ JSDoc é¢¨æ ¼è¨»è§£å‡½å¼
  - è¤‡é›œé‚è¼¯åŠ ä¸Šè¡Œå…§è¨»è§£èªªæ˜

### ç¯„ä¾‹

```javascript
/**
 * è¼‰å…¥ä¸¦é©—è­‰é…ç½®æª”æ¡ˆ
 * @param {string} configPath - é…ç½®æª”æ¡ˆè·¯å¾‘
 * @param {Object} options - è¼‰å…¥é¸é …
 * @returns {Object} é©—è­‰å¾Œçš„é…ç½®ç‰©ä»¶
 * @throws {Error} é…ç½®æ ¼å¼éŒ¯èª¤æ™‚æ‹‹å‡ºä¾‹å¤–
 */
export function loadAndValidateConfig(configPath, options = {}) {
  const config = JSON.parse(fs.readFileSync(configPath, "utf-8"));

  // é©—è­‰å¿…è¦æ¬„ä½
  if (!config.version) {
    throw new Error("é…ç½®æª”æ¡ˆç¼ºå°‘ version æ¬„ä½");
  }

  // éæ¿¾åœç”¨çš„ä¾†æº
  if (options.filterEnabled) {
    config.sources = config.sources.filter((s) => s.enabled !== false);
  }

  return config;
}
```

### æª”æ¡ˆçµæ§‹

- æ¯å€‹æ¨¡çµ„ä¸€å€‹æª”æ¡ˆ
- æª”æ¡ˆåç¨±ä½¿ç”¨ `kebab-case`ï¼ˆå¦‚ `email-pusher.js`ï¼‰
- è³‡æ–™å¤¾åç¨±ä½¿ç”¨è¤‡æ•¸å½¢å¼ï¼ˆå¦‚ `collectors/`, `filters/`ï¼‰
- æ¸¬è©¦æª”æ¡ˆå‘½åç‚º `*.test.js`ï¼ˆå¦‚ `email-pusher.test.js`ï¼‰

### Import é †åº

```javascript
// 1. Node.js å…§å»ºæ¨¡çµ„
import fs from "fs/promises";
import path from "path";

// 2. ç¬¬ä¸‰æ–¹å¥—ä»¶
import dotenv from "dotenv";
import { marked } from "marked";

// 3. å°ˆæ¡ˆå…§éƒ¨æ¨¡çµ„
import { logger } from "./utils/logger.js";
import { NewsItem } from "./models/news-item.js";
```

## æäº¤è¨Šæ¯è¦ç¯„

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è¦ç¯„ï¼š

### æ ¼å¼

```
<type>(<scope>): <subject>

<body>

<footer>
```

### Type é¡å‹

- `feat`: æ–°åŠŸèƒ½ï¼ˆå¦‚ `feat(collector): æ–°å¢ NewsAPI è’é›†å™¨`ï¼‰
- `fix`: Bug ä¿®å¾©ï¼ˆå¦‚ `fix(dedup): ä¿®æ­£ç›¸ä¼¼åº¦è¨ˆç®—éŒ¯èª¤`ï¼‰
- `docs`: æ–‡ä»¶æ›´æ–°ï¼ˆå¦‚ `docs(readme): æ›´æ–°å®‰è£æ­¥é©Ÿ`ï¼‰
- `style`: ç¨‹å¼ç¢¼æ ¼å¼èª¿æ•´ï¼ˆä¸å½±éŸ¿åŠŸèƒ½ï¼‰
- `refactor`: é‡æ§‹ï¼ˆä¸æ”¹è®ŠåŠŸèƒ½ï¼‰
- `test`: æ¸¬è©¦ç›¸é—œ
- `chore`: å»ºç½®æµç¨‹æˆ–è¼”åŠ©å·¥å…·è®Šæ›´

### ç¯„ä¾‹

```
feat(push): æ–°å¢é›»å­éƒµä»¶æ¨é€åŠŸèƒ½

- å¯¦ä½œ EmailPusher é¡åˆ¥
- æ”¯æ´ Markdown è½‰ HTML
- å¯¦ä½œé‡è©¦ç­–ç•¥ï¼ˆæœ€å¤šé‡è©¦ 1 æ¬¡ï¼‰

Closes #42
```

```
fix(summarizer): ä¿®æ­£ Gemini API é‡è©¦é‚è¼¯

ç•¶ API å›å‚³ 429 éŒ¯èª¤æ™‚ï¼Œé‡è©¦æ©Ÿåˆ¶æœªæ­£ç¢ºè§¸ç™¼ã€‚
ç¾å·²ä¿®æ­£ç‚ºä½¿ç”¨æŒ‡æ•¸é€€é¿ç­–ç•¥ã€‚

Fixes #38
```

## æ¸¬è©¦

### åŸ·è¡Œæ¸¬è©¦

```bash
# åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
npm test

# åŸ·è¡Œç‰¹å®šæ¸¬è©¦æª”æ¡ˆ
npm test -- email-pusher.test.js

# åŸ·è¡Œæ¸¬è©¦ä¸¦ç”¢ç”Ÿè¦†è“‹ç‡å ±å‘Š
npm run test:coverage
```

### æ’°å¯«æ¸¬è©¦

- ä½¿ç”¨ Vitest æ¸¬è©¦æ¡†æ¶
- æ¸¬è©¦æª”æ¡ˆæ”¾åœ¨ `tests/` ç›®éŒ„
- éµå¾ª AAA æ¨¡å¼ï¼ˆArrange, Act, Assertï¼‰

```javascript
import { describe, it, expect } from "vitest";
import { deduplicate } from "../src/filters/deduplicator.js";

describe("Deduplicator", () => {
  it("should remove duplicate items based on title similarity", () => {
    // Arrange
    const items = [
      { title: "OpenAI releases GPT-5", content: "..." },
      { title: "OpenAI Releases GPT-5", content: "..." }, // duplicate
    ];

    // Act
    const result = deduplicate(items);

    // Assert
    expect(result.uniqueItems).toHaveLength(1);
    expect(result.duplicates).toHaveLength(1);
  });
});
```

## Pull Request æµç¨‹

### æäº¤å‰æª¢æŸ¥æ¸…å–®

- [ ] ç¨‹å¼ç¢¼éµå¾ªå°ˆæ¡ˆé¢¨æ ¼è¦ç¯„
- [ ] æ‰€æœ‰æ¸¬è©¦é€šéï¼ˆ`npm test`ï¼‰
- [ ] æ–°å¢åŠŸèƒ½æœ‰å°æ‡‰çš„æ¸¬è©¦
- [ ] æäº¤è¨Šæ¯ç¬¦åˆè¦ç¯„
- [ ] æ›´æ–°ç›¸é—œæ–‡ä»¶ï¼ˆå¦‚ README.mdï¼‰
- [ ] ç„¡ `console.log` é™¤éŒ¯è¨Šæ¯æ®˜ç•™

### PR æè¿°ç¯„æœ¬

```markdown
## è®Šæ›´æ‘˜è¦

ç°¡çŸ­æè¿°æ­¤ PR çš„ç›®çš„

## è®Šæ›´é¡å‹

- [ ] Bug ä¿®å¾©
- [ ] æ–°åŠŸèƒ½
- [ ] é‡æ§‹
- [ ] æ–‡ä»¶æ›´æ–°
- [ ] æ•ˆèƒ½å„ªåŒ–

## è®Šæ›´è©³æƒ…

- è©³ç´°åˆ—å‡ºä¸»è¦è®Šæ›´é …ç›®
- èªªæ˜æŠ€è¡“å¯¦ä½œç´°ç¯€

## æ¸¬è©¦

æè¿°å¦‚ä½•æ¸¬è©¦æ­¤è®Šæ›´

## ç›¸é—œ Issue

Closes #123

## æˆªåœ–ï¼ˆå¦‚é©ç”¨ï¼‰
```

### Review æµç¨‹

1. æäº¤ PR å¾Œï¼Œmaintainer æœƒåœ¨ 48 å°æ™‚å…§é€²è¡Œå¯©æŸ¥
2. è‹¥æœ‰éœ€è¦ä¿®æ”¹çš„åœ°æ–¹ï¼Œreviewer æœƒç•™ä¸‹è©•è«–
3. è§£æ±ºæ‰€æœ‰è©•è«–å¾Œï¼ŒPR æœƒè¢«åˆä½µåˆ° `main` åˆ†æ”¯
4. åˆä½µå¾Œæ‚¨çš„åˆ†æ”¯æœƒè¢«åˆªé™¤

### å¸¸è¦‹å•é¡Œ

**Q: PR è¢«é€€å›è©²æ€éº¼è¾¦ï¼Ÿ**  
A: è«‹ä¾ç…§ reviewer çš„å»ºè­°ä¿®æ”¹ç¨‹å¼ç¢¼ï¼Œç„¶å¾Œåœ¨åŒä¸€å€‹ PR ä¸­æäº¤æ–°çš„ commitã€‚

**Q: å¦‚ä½•æ›´æ–°æˆ‘çš„ forkï¼Ÿ**  
A: åŸ·è¡Œä»¥ä¸‹å‘½ä»¤åŒæ­¥ä¸Šæ¸¸è®Šæ›´ï¼š

```bash
git remote add upstream https://github.com/original/AI-News.git
git fetch upstream
git checkout main
git merge upstream/main
```

**Q: æ¸¬è©¦å¤±æ•—æ€éº¼è¾¦ï¼Ÿ**  
A: è«‹æª¢æŸ¥éŒ¯èª¤è¨Šæ¯ï¼Œä¿®æ­£å•é¡Œå¾Œé‡æ–°åŸ·è¡Œ `npm test`ã€‚è‹¥å•é¡ŒæŒçºŒï¼Œå¯åœ¨ PR ä¸­è©¢å• maintainerã€‚

## æˆæ¬Š

æäº¤ç¨‹å¼ç¢¼è‡³æœ¬å°ˆæ¡ˆå³è¡¨ç¤ºæ‚¨åŒæ„ä»¥ MIT License æˆæ¬Šæ‚¨çš„è²¢ç»ã€‚

## å•é¡Œèˆ‡å”åŠ©

è‹¥æœ‰ä»»ä½•å•é¡Œï¼Œæ­¡è¿é€éä»¥ä¸‹æ–¹å¼è¯ç¹«ï¼š

- GitHub Issues: [å°ˆæ¡ˆ Issues é é¢](https://github.com/your-repo/AI-News/issues)
- Email: [æ‚¨çš„è¯çµ¡ä¿¡ç®±]

---

æ„Ÿè¬æ‚¨çš„è²¢ç»ï¼ğŸ’™
