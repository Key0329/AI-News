<!--
Sync Impact Report:
Version: 1.0.0 → 1.1.0 (Minor: Added Brownfield Project Constraints)
Modified Principles: N/A
Added Sections: VI. 棕地專案限制
Removed Sections: N/A
Templates Status:
  ✅ .specify/templates/plan-template.md - Reviewed, compatible (Constitution Check covers new constraints)
  ✅ .specify/templates/spec-template.md - Reviewed, compatible
  ✅ .specify/templates/tasks-template.md - Reviewed, compatible
Follow-up TODOs: None
-->

# AI-News 專案規範

## 核心原則

### I. 高品質優先

**原則**: 所有程式碼必須達到生產環境品質標準，不容妥協。

**規則**:
- 程式碼必須清晰易讀，具有適當的變數命名和結構
- 必須遵循該程式語言的最佳實踐和慣例
- 必須包含適當的錯誤處理和邊界條件檢查
- 必須進行程式碼審查才能合併至主分支

**理由**: 高品質的程式碼減少技術債，提高可維護性，降低長期維護成本。

### II. 可測試性（不可協商）

**原則**: 所有功能必須可被獨立測試和驗證。

**規則**:
- 每個使用者故事必須可獨立測試
- 每個功能必須包含明確的驗收標準
- 測試必須能夠自動化執行
- 元件之間必須保持低耦合以便於單元測試
- 測試覆蓋率必須足以驗證核心功能

**理由**: 可測試性確保功能正確性，降低迴歸風險，提供重構信心。

### III. 最小可行產品（MVP）

**原則**: 優先交付核心價值，避免過早優化和不必要的功能。

**規則**:
- 使用者故事必須按優先級排序（P1、P2、P3...）
- 每個優先級的功能必須可獨立交付和演示
- P1 功能完成並驗證後才開始 P2
- 移除或延後所有非核心功能
- 每個迭代必須產出可演示的價值

**理由**: MVP 方法加快反饋循環，降低浪費，確保資源投入在最重要的功能上。

### IV. 避免過度設計

**原則**: 採用最簡單可行的解決方案，遵循 YAGNI（You Aren't Gonna Need It）原則。

**規則**:
- 不實作未來可能需要的功能
- 不建立超過當前需求的抽象層
- 不引入非必要的設計模式或架構
- 每個複雜度決策必須有明確的當前需求支持
- 優先選擇簡單直接的實作方式

**理由**: 過度設計增加複雜度、降低可讀性、延長開發時間，且經常猜錯未來需求。

### V. 持續交付

**原則**: 小步快跑，頻繁整合，及早發現問題。

**規則**:
- 每個任務完成後必須提交程式碼
- 程式碼必須通過自動化檢查才能合併
- 每個使用者故事完成後必須進行獨立驗證
- 避免長期開發分支
- 優先整合而非累積變更

**理由**: 持續交付降低整合風險，加快問題發現，提高團隊協作效率。

### VI. 棕地專案限制（嚴格執行）

**原則**: 維護系統穩定性，最小化變更風險，絕對尊重現狀。

**規則**:
- **不可重構現有程式碼**: 嚴格禁止對現有程式碼進行任何形式的重構，除非該程式碼直接導致新功能無法運作。
- **沒提到的功能絕對不要動**: 嚴格限制變更範圍，僅修改規格書中明確指定的部分，禁止「順手修復」或「優化」周邊代碼。
- **遵守現有的程式命名與設計規範**: 必須模仿現有的命名慣例、目錄結構和設計模式，即使它們違背了現代最佳實踐或一般規範。

**理由**: 棕地專案中，穩定性高於一切。任何未經授權的變更都可能引入未知的副作用（Regression），破壞現有功能。

## 語言規範

**原則**: 所有文件、註解、提交訊息必須使用正體中文。

**規則**:
- 所有 Markdown 文件內容使用正體中文
- 程式碼註解使用正體中文
- Git 提交訊息使用正體中文
- 變數名稱、函式名稱使用英文（遵循程式語言慣例）
- 技術術語在必要時可保留英文，但需附正體中文說明

**理由**: 統一語言降低溝通成本，提高文件可讀性，便於團隊協作。

## 開發工作流程

### 規劃階段

1. 功能需求必須明確記錄在 spec.md
2. 使用者故事必須可獨立測試
3. 驗收標準必須清晰可衡量
4. **憲法檢查**: 確認計畫是否違反「棕地專案限制」

### 設計階段

1. 資料模型必須記錄在 data-model.md
2. API 契約必須記錄在 contracts/
3. 設計必須支援獨立測試
4. 設計必須沿用現有架構模式

### 實作階段

1. 遵循任務清單順序（tasks.md）
2. 每個使用者故事獨立實作和測試
3. 完成一個使用者故事後才開始下一個
4. 實作時嚴格遵守現有程式碼風格

### 驗證階段

1. 每個使用者故事完成後獨立驗證
2. 通過驗收標準檢查
3. 程式碼審查通過才能合併
4. 驗證未觸及無關功能

## 治理規範

### 憲法優先級

本憲法的優先級高於所有其他開發慣例和指引。如有衝突，以本憲法為準。

### 修訂流程

1. 憲法修訂必須經過充分討論和記錄
2. 修訂必須更新版本號（遵循語義化版本規範）
3. 修訂必須同步更新相關範本和文件
4. 修訂必須建立遷移計劃

### 版本管理

- **MAJOR**: 向後不相容的原則移除或重新定義
- **MINOR**: 新增原則或顯著擴展指引
- **PATCH**: 澄清說明、用詞修正、非語義改進

### 合規審查

1. 所有 Pull Request 必須驗證憲法合規性
2. 任何複雜度增加必須有明確理由
3. 定期審查憲法適用性和有效性

### 例外處理

如需違反憲法原則，必須：
1. 在 plan.md 的 Complexity Tracking 章節記錄
2. 說明為何需要違反
3. 說明為何更簡單的方案不可行
4. 取得團隊共識

**版本**: 1.1.0 | **批准日期**: 2026-01-05 | **最後修訂**: 2026-01-08